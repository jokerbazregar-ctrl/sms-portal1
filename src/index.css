/* src/index.css
   Ultra-detailed dark theme — enhanced edition
   - Animated gradient background + subtle parallax
   - Neon glows, flicker, music visualizer, enhanced controls
   - Accessibility & reduced-motion support
   - Designed to work with the React app structure provided
*/

/* ---------------------- Theme variables ---------------------- */
:root{
  --bg-ink: #040207;
  --bg-spot: #160019;
  --panel-glass: rgba(255,255,255,0.016);
  --glass-2: rgba(255,255,255,0.01);

  --accent-pink: #ff33a8;
  --accent-hot: #ff6abf;
  --accent-cyan: #6ad0ff;
  --accent-violet: #b56bff;
  --accent-deep: #9a1c6b;

  --muted: #a79ac0;
  --muted-2: #7f7790;
  --text: #f6eff9;

  --success: #20c063;
  --danger: #ff5151;

  --radius-xl: 18px;
  --radius-lg: 14px;
  --radius-md: 10px;

  --card-shadow: 0 36px 110px rgba(4,2,6,0.78);
  --soft-shadow: 0 12px 40px rgba(0,0,0,0.7);
  --glow-strong: 0 0 42px rgba(255,51,168,0.14);

  --max-width: 1320px;
  --ease-fast: cubic-bezier(.2,.9,.25,1);
  --ease-slow: cubic-bezier(.16,.8,.24,1);

  --scroll-thumb: linear-gradient(180deg, rgba(255,51,168,0.16), rgba(181,107,255,0.12));
}

/* Respect reduced motion */
@media (prefers-reduced-motion: reduce) {
  * { animation-duration: 0.001ms !important; animation-iteration-count: 1 !important; transition-duration: 0.001ms !important; scroll-behavior: auto !important; }
}

/* ---------------------- Base layout & animated background ---------------------- */
*{box-sizing:border-box}
html,body,#root{height:100%}
body{
  margin:0;
  min-height:100%;
  background:
    radial-gradient(800px 420px at 8% 6%, rgba(181,107,255,0.06), transparent 14%),
    radial-gradient(700px 300px at 92% 88%, rgba(106,208,255,0.03), transparent 18%),
    linear-gradient(180deg, var(--bg-ink) 0%, var(--bg-spot) 100%);
  color:var(--text);
  font-family: 'Vazirmatn', Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  padding:28px;
  display:flex;
  justify-content:center;
  line-height:1.45;
  overflow-y:auto;
}

/* subtle background movement */
@keyframes bgDrift {
  0% { transform: translate3d(0,0,0) scale(1); filter: saturate(1); }
  50% { transform: translate3d(-8px,6px,0) scale(1.01); filter: saturate(1.03) }
  100% { transform: translate3d(0,0,0) scale(1); filter: saturate(1); }
}
body::before{
  content:"";
  position:fixed;
  inset:0;
  z-index:-2;
  pointer-events:none;
  animation: bgDrift 28s linear infinite;
  opacity:0.85;
}

/* container */
.ci-app{
  width:100%;
  max-width:var(--max-width);
  margin:0 auto;
  padding:10px;
}

/* ---------------------- Header ---------------------- */
.ci-header{
  display:flex;
  align-items:center;
  gap:18px;
  margin-bottom:20px;
  flex-wrap:wrap;
  position:relative;
}
.badge{
  display:flex;
  gap:12px;
  align-items:center;
  font-weight:800;
  color:var(--muted);
}
.badge-num{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  padding:8px 14px;
  border-radius:999px;
  background: linear-gradient(180deg, rgba(255,51,168,0.06), rgba(178,22,122,0.02));
  color:var(--accent-pink);
  font-weight:900;
  letter-spacing:0.6px;
  box-shadow: 0 10px 40px rgba(178,22,122,0.09), inset 0 0 18px rgba(255,51,168,0.03);
  transition: transform .18s var(--ease-fast), box-shadow .18s var(--ease-fast);
  cursor:pointer;
  backdrop-filter: blur(6px);
}
.badge-num:hover{ transform: translateY(-3px) scale(1.02); box-shadow: var(--glow-strong); }
.badge-num:active{ transform: translateY(-1px) scale(0.995); }

.ci-title{
  margin:0;
  font-size:20px;
  color:var(--text);
  font-weight:700;
  letter-spacing:0.2px;
  text-shadow: 0 6px 22px rgba(0,0,0,0.6);
}

/* subtle tooltip for badge */
.badge-num[title]:hover::after{
  content:attr(title);
  position:absolute;
  transform:translateY(-10px);
  margin-top:-8px;
  background:rgba(0,0,0,0.6);
  color:var(--muted);
  padding:6px 8px;
  border-radius:8px;
  font-size:12px;
  left:0;
  top:48px;
  white-space:nowrap;
  box-shadow:0 8px 26px rgba(0,0,0,0.6);
}

/* ---------------------- Main layout ---------------------- */
.ci-main{
  display:flex;
  gap:26px;
  align-items:flex-start;
  width:100%;
  perspective: 1200px;
}

/* Panels */
.panel{
  background: linear-gradient(180deg, var(--panel-glass), rgba(255,255,255,0.008));
  border-radius:var(--radius-xl);
  padding:20px;
  box-shadow:var(--card-shadow);
  border: 1px solid rgba(255,255,255,0.03);
  backdrop-filter: blur(6px) saturate(1.06);
  transition: transform .28s var(--ease-slow), box-shadow .28s var(--ease-slow);
}
.panel:hover{ transform: translateY(-6px) scale(1.002); }

/* left column (form) */
.form-panel{
  flex:0 0 500px;
  min-width:300px;
  display:flex;
  flex-direction:column;
  gap:14px;
}

/* right column (files) */
.logs-panel{
  flex:1 1 auto;
  min-width:340px;
  max-height:76vh;
  display:flex;
  flex-direction:column;
  gap:12px;
  overflow:visible;
}

/* title styles */
.panel h2{
  margin:0 0 8px 0;
  font-size:13px;
  color:var(--muted);
  text-transform:uppercase;
  letter-spacing:0.6px;
}

/* ---------------------- Form elements ---------------------- */
.access-form{ display:flex; flex-direction:column; gap:12px; }
.field{ display:flex; flex-direction:column; gap:8px; }
.label{ color:var(--muted); font-size:13px; margin-bottom:6px; }

/* input */
.input{
  padding:14px 16px;
  border-radius:12px;
  border: 1px solid rgba(255,255,255,0.035);
  background: linear-gradient(180deg, rgba(255,255,255,0.006), rgba(255,255,255,0.004));
  color:var(--text);
  font-size:15px;
  transition: box-shadow .16s var(--ease-fast), transform .12s var(--ease-fast);
  caret-color: var(--accent-pink);
}
.input::placeholder{ color: rgba(243,238,248,0.34) }
.input:focus{
  outline: none;
  box-shadow: 0 20px 46px rgba(178,22,122,0.10);
  transform: translateY(-2px);
  border-color: rgba(255,51,168,0.16);
}

/* disabled state */
.input[disabled]{ opacity:0.55; cursor:not-allowed; }

/* buttons */
.form-row{ display:flex; align-items:center; gap:12px; }
.btn{
  padding:12px 16px;
  border-radius:12px;
  border:none;
  cursor:pointer;
  font-weight:800;
  font-size:14px;
  transition: transform .14s var(--ease-fast), box-shadow .14s var(--ease-fast);
  display:inline-flex;
  align-items:center;
  gap:8px;
}
.btn-primary{
  color:#111;
  background: linear-gradient(180deg, var(--accent-pink), var(--accent-deep));
  box-shadow: 0 18px 50px rgba(178,22,122,0.14);
}
.btn-primary:hover{ transform: translateY(-4px); box-shadow: 0 28px 80px rgba(178,22,122,0.18); }

.btn-outline{
  background:transparent;
  color:var(--muted);
  border:1px solid rgba(255,255,255,0.04);
}

/* attempts */
.attempts{ margin-left:auto; color:var(--muted); font-size:13px; }

/* ---------------------- Alerts & toast ---------------------- */
.alert{
  margin-top:12px;
  padding:12px 14px;
  border-radius:12px;
  font-weight:800;
  backdrop-filter: blur(4px);
}
.alert.success{
  background: linear-gradient(180deg, rgba(32,192,99,0.06), rgba(32,192,99,0.02));
  color:var(--success);
  border:1px solid rgba(32,192,99,0.06);
}
.alert.error{
  background: linear-gradient(180deg, rgba(255,81,81,0.06), rgba(255,81,81,0.02));
  color:var(--danger);
  border:1px solid rgba(255,81,81,0.06);
}

/* ---------------------- Audio panel & visualizer ---------------------- */
.audio-panel{ margin-top:12px; padding-top:12px; border-top:1px dashed rgba(255,255,255,0.03); display:flex; flex-direction:column; gap:12px; }
.audio-actions{ display:flex; align-items:center; gap:12px; flex-wrap:wrap; }
.audio-actions .muted{ font-size:13px; color:var(--muted) }

/* track buttons row */
.track-row{ display:flex; gap:10px; align-items:center; flex-wrap:wrap; }
.track-btn{
  padding:8px 12px;
  border-radius:10px;
  border:1px solid rgba(255,255,255,0.04);
  background:transparent;
  color:var(--muted);
  font-weight:800;
  cursor:pointer;
  transition: transform .12s var(--ease-fast), box-shadow .12s var(--ease-fast), background .12s var(--ease-fast);
}
.track-btn:hover{ transform: translateY(-4px); box-shadow: 0 12px 30px rgba(0,0,0,0.6); color:var(--text); }

/* selected state (class .active added via inline style or attribute) */
.track-btn.active{
  color:#fff;
  box-shadow: 0 18px 46px rgba(0,0,0,0.6), var(--glow-strong);
}

/* three skin utilities for track buttons (can be set inline or by class) */
.track-pink{ background: linear-gradient(90deg,#3b0236,#ff33a8); border-color: rgba(255,51,168,0.18); color:#fff; }
.track-cyan{ background: linear-gradient(90deg,#002b3b,#6ad0ff); border-color: rgba(106,208,255,0.12); color:#fff; }
.track-violet{ background: linear-gradient(90deg,#2b0018,#b56bff); border-color: rgba(181,107,255,0.12); color:#fff; }

/* small visualizer: simple bars animated by playbackRate via inline styles or CSS var */
.playback-meter{ display:flex; gap:6px; align-items:end; height:36px; }
.playback-meter .bar{
  width:6px; border-radius:4px;
  background: linear-gradient(180deg, rgba(255,255,255,0.16), rgba(255,255,255,0.06));
  transform-origin: bottom center;
  animation: meterPulse 900ms ease-in-out infinite;
  box-shadow: 0 6px 18px rgba(0,0,0,0.45);
}
.playback-meter .bar:nth-child(1){ animation-delay: -120ms }
.playback-meter .bar:nth-child(2){ animation-delay: -220ms }
.playback-meter .bar:nth-child(3){ animation-delay: -60ms }
.playback-meter .bar:nth-child(4){ animation-delay: -180ms }
@keyframes meterPulse {
  0%{ transform: scaleY(0.18) }
  50%{ transform: scaleY(1) }
  100%{ transform: scaleY(0.18) }
}

/* ---------------------- Files list (cards) ---------------------- */
.files-list{ display:flex; flex-direction:column; gap:12px; padding:6px; border-radius:12px; }
.file-item{
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:12px;
  padding:14px;
  border-radius:12px;
  background: linear-gradient(180deg, rgba(255,255,255,0.006), rgba(255,255,255,0.008));
  border:1px solid rgba(255,255,255,0.02);
  transition: transform .26s var(--ease-slow), box-shadow .26s var(--ease-slow);
  will-change: transform, box-shadow;
  perspective:800px;
}
.file-item:hover{ transform: translateY(-10px) rotateX(1deg); box-shadow: var(--soft-shadow); }

/* left side */
.file-left{ display:flex; align-items:center; gap:12px; }
.file-icon{
  width:56px; height:56px; display:inline-block; border-radius:12px;
  background: linear-gradient(180deg, rgba(255,51,168,0.06), rgba(178,22,122,0.03));
  color:var(--accent-pink); display:flex; align-items:center; justify-content:center;
  box-shadow: 0 12px 36px rgba(178,22,122,0.06);
  font-weight:900;
  font-size:18px;
}
.file-meta{ display:flex; flex-direction:column; gap:4px; }
.file-name{ font-weight:900; font-size:15px; color:var(--text); }
.file-sub{ font-size:13px; color:var(--muted); }

/* actions */
.file-actions{ display:flex; gap:8px; align-items:center; }
.file-actions .tiny{
  padding:8px 10px;
  border-radius:10px;
  border:1px solid rgba(255,255,255,0.04);
  background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.01));
  color:var(--muted);
  cursor:pointer;
  font-weight:800;
  transition: transform .12s var(--ease-fast);
}
.file-actions .tiny:hover{ transform: translateY(-3px); color:var(--text); border-color: rgba(255,51,168,0.08) }

/* ---------------------- PDF Modal ---------------------- */
.pdf-modal{ position:fixed; inset:0; z-index:1400; display:flex; align-items:center; justify-content:center; }
.pdf-modal-backdrop{
  position:absolute; inset:0; background: linear-gradient(180deg, rgba(2,2,2,0.6), rgba(2,2,2,0.78)); backdrop-filter: blur(6px);
  animation: fadeIn .18s var(--ease-fast);
}
@keyframes fadeIn{ from{ opacity:0 } to{ opacity:1 } }
.pdf-modal-body{
  position:relative; width:92%; max-width:1024px; height:82vh;
  background: linear-gradient(180deg, rgba(16,6,20,0.98), rgba(22,8,30,0.99));
  border-radius:14px; padding:12px; border:1px solid rgba(255,255,255,0.03);
  box-shadow: 0 40px 120px rgba(0,0,0,0.85);
  transform: translateY(10px); animation: modalPop .26s var(--ease-slow);
  display:flex; flex-direction:column;
}
@keyframes modalPop{ from{ opacity:0; transform:translateY(26px) scale(.995) } to{ opacity:1; transform:translateY(0) scale(1) } }
.pdf-modal-header{ display:flex; justify-content:space-between; align-items:center; padding-bottom:8px; border-bottom:1px solid rgba(255,255,255,0.02); margin-bottom:8px; }
.pdf-iframe{ flex:1; border-radius:10px; border:none; background: #fff; }

/* ---------------------- Speed control panel (hidden) ---------------------- */
.speed-control{
  border-radius:12px;
  padding:10px;
  background: linear-gradient(180deg, rgba(18,8,20,0.98), rgba(28,10,30,0.96));
  border:1px solid rgba(255,255,255,0.03);
  box-shadow: 0 14px 50px rgba(0,0,0,0.7);
  min-width:240px;
}
.speed-control .label { color: var(--muted); font-size:13px; margin-bottom:6px; }

/* ---------------------- Focus & a11y ---------------------- */
:focus{ outline: none; }
.input:focus, .btn:focus, .tiny:focus, .file-actions .tiny:focus{
  box-shadow: 0 0 0 6px rgba(255,51,168,0.06), 0 18px 46px rgba(178,22,122,0.09);
  border-color: rgba(255,51,168,0.12);
}
:focus-visible{ outline: 3px solid rgba(255,51,168,0.06); outline-offset: 4px; }

/* keyboard support */
button[disabled]{ opacity:0.55; cursor:not-allowed; pointer-events:none; }

/* ---------------------- Scrollbars ---------------------- */
/* Webkit */
.files-list::-webkit-scrollbar, .logs-list::-webkit-scrollbar, .pdf-modal-body::-webkit-scrollbar { width:12px; height:12px; }
.files-list::-webkit-scrollbar-track, .logs-list::-webkit-scrollbar-track, .pdf-modal-body::-webkit-scrollbar-track { background: transparent; border-radius:12px; }
.files-list::-webkit-scrollbar-thumb, .logs-list::-webkit-scrollbar-thumb, .pdf-modal-body::-webkit-scrollbar-thumb {
  background: var(--scroll-thumb);
  border-radius:12px;
  border: 2px solid rgba(0,0,0,0.08);
  box-shadow: inset 0 2px 6px rgba(0,0,0,0.3);
}
/* Firefox */
.files-list, .logs-list { scrollbar-width: thin; scrollbar-color: rgba(255,51,168,0.14) transparent; }

/* ---------------------- Footer & misc ---------------------- */
.ci-footer{ margin-top:18px; display:flex; justify-content:space-between; color:var(--muted); font-size:13px }

/* small utilities */
.muted{ color:var(--muted); }
.small{ font-size:13px }

/* ---------------------- Responsive ---------------------- */
@media (max-width: 980px){
  .ci-main{ flex-direction:column; gap:16px; }
  .form-panel{ width:100%; }
  .logs-panel{ width:100%; max-height:60vh; }
  .pdf-modal-body{ height:76vh; }
}
@media (max-width:480px){
  body{ padding:14px; }
  .badge-num{ padding:6px 10px; font-size:14px; }
  .ci-title{ font-size:16px; }
  .file-item{ padding:12px; }
}

/* ---------------------- Extra polish animations ---------------------- */
/* gentle entrance for panels */
.panel { transform-origin: top center; animation: panelIn .28s var(--ease-slow); }
@keyframes panelIn { from { opacity: 0; transform: translateY(10px) scale(.997) } to { opacity: 1; transform: translateY(0) scale(1) } }

/* small shimmer for active buttons */
@keyframes shimmer {
  0% { background-position: -120% 0; }
  100% { background-position: 220% 0; }
}
.btn-primary.shimmer {
  background-image: linear-gradient(90deg, rgba(255,255,255,0.06) 0%, rgba(255,255,255,0.02) 50%, rgba(255,255,255,0.06) 100%);
  background-size: 320% 100%;
  animation: shimmer 3.2s linear infinite;
}

/* flicker (use by toggling body.flicker class via JS) */
@keyframes flickerLight {
  0% { filter: brightness(1); }
  10% { filter: brightness(0.12); }
  20% { filter: brightness(0.95); }
  30% { filter: brightness(0.18); }
  40% { filter: brightness(1); }
  50% { filter: brightness(0.09); }
  60% { filter: brightness(1); }
  100% { filter: brightness(1); }
}
body.flicker { animation: flickerLight 1.1s linear both; }

/* subtle focus pulse for important UI */
@keyframes pulseRing {
  0% { box-shadow: 0 0 0 0 rgba(255,51,168,0.12) }
  70% { box-shadow: 0 0 0 10px rgba(255,51,168,0.00) }
  100% { box-shadow: 0 0 0 0 rgba(255,51,168,0.00) }
}
.badge-num:focus-visible{ animation: pulseRing 1.2s ease-out; }

/* ---------------------- Developer helper (hidden debug) ---------------------- */
/* .dev-border { outline: 1px dashed rgba(255,255,255,0.06) } */

/* End of file — have fun customizing colors and animation timings! */
